<!-- cluster - nodes - pods -->

# kubernetes

docker run -p 8081:8001 --env-file .env node-api:v2

## kubernetes in docker

kind create cluster --name local
or
kind create cluster --config ./k8s/local/kind/kind-cluster.yml --name local
kind create cluster --config k8s/local/new-kind.yml --name local2

## kubectl

kubectl get nodes

docker run -p 3000:80 nginx

kubectl create pod
kubectl run nginx --image=nginx --port=80

kubectl logs nginx
kubectl describe pod nginx

## deployment (rolling update)

kubectl create deployment nginx --image=nginx --replicas=4

## replicasets

kubectl apply -f k8s/local/deployment.yml
kubectl create deployment nginx --image=nginx --replicas=4

kubectl get pods -owide

## services

<!-- clusterIP NodePort Loadbalancer -->

kubectl apply -f k8s/local/services.yml

rm ./kube/config
vi ./kube/config
